# tmall_mini_program_back_end
> 微信小程序课程设计  基于ssm的小程序商城后端

## 介绍

### 技术介绍

- 后端框架SSM框架
- 数据库文档使用[Screw](https://github.com/pingfangushi/screw)开源工具
- 后端API文档使用[ShowDoc](https://www.showdoc.com.cn/)工具
- 仅有的商品管理前端使用[Layui](https://www.layui.com/)框架



### 运行环境

- 项目使用Maven统一管理
- mysql-5.7.32
- jdk-11
- spring-5.2.0
- mybatis-3.4.6
- mysql-connector-java-8.0.11



## 数据库

**数据库名：** tmall_mini_program

**文档版本：** 1.0.1

**文档描述：** tmall_mini_program

| 表名                                        | 说明             |
| :------------------------------------------ | :--------------- |
| [t_address](#t_address)                     | 地址表           |
| [t_admin](#t_admin)                         | 管理员表         |
| [t_cart_item](#t_cart_item)                 | 购物车项         |
| [t_home_chunk_data](#t_home_chunk_data)     | 首页块的资源数据 |
| [t_home_swiper_image](#t_home_swiper_image) | 首页轮播图数据   |
| [t_order](#t_order)                         | 订单表           |
| [t_order_item](#t_order_item)               | 商品项           |
| [t_produce](#t_produce)                     | 商品表           |
| [t_produce_cat](#t_produce_cat)             | 商品类别表       |
| [t_user](#t_user)                           | 用户表           |

**表名：** <a id="t_address">t_address</a>

**说明：** 地址表

**数据列：**

| 序号 | 名称       | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |       说明       |
| :--: | :--------- | :------: | :--: | :----: | :------: | :--: | :----: | :--------------: |
|  1   | id         |   int    |  10  |   0    |    N     |  Y   |        | 没有意义的自增id |
|  2   | user_id    |   int    |  10  |   0    |    N     |  N   |        |  归属于哪个用户  |
|  3   | address    | varchar  | 255  |   0    |    N     |  N   |        |       省份       |
|  4   | is_default |   bit    |  1   |   0    |    N     |  N   |   0    |  是否为默认地址  |
|  5   | name       | varchar  | 255  |   0    |    N     |  N   |        |    收获人姓名    |
|  6   | street     | varchar  | 255  |   0    |    N     |  N   |        |       街道       |
|  7   | mobile     | varchar  |  20  |   0    |    N     |  N   |        |     移动号码     |

**表名：** <a id="t_admin">t_admin</a>

**说明：** 管理员表

**数据列：**

| 序号 | 名称     | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |       说明       |
| :--: | :------- | :------: | :--: | :----: | :------: | :--: | :----: | :--------------: |
|  1   | id       |   int    |  10  |   0    |    N     |  Y   |        | 没有意义的自增id |
|  2   | username | varchar  | 255  |   0    |    N     |  N   |        |     管理员名     |
|  3   | password | varchar  | 255  |   0    |    N     |  N   |        |       密码       |

**表名：** <a id="t_cart_item">t_cart_item</a>

**说明：** 购物车项

**数据列：**

| 序号 | 名称       | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |       说明       |
| :--: | :--------- | :------: | :--: | :----: | :------: | :--: | :----: | :--------------: |
|  1   | id         |   int    |  10  |   0    |    N     |  Y   |        |   没有意义的id   |
|  2   | user_id    |   int    |  10  |   0    |    N     |  N   |        |      用户id      |
|  3   | produce_id |   int    |  10  |   0    |    Y     |  N   |        |      商品id      |
|  4   | count      |   int    |  10  |   0    |    N     |  N   |        | 该购物车项的个数 |

**表名：** <a id="t_home_chunk_data">t_home_chunk_data</a>

**说明：** 首页块的资源数据

**数据列：**

| 序号 | 名称    | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |         说明         |
| :--: | :------ | :------: | :--: | :----: | :------: | :--: | :----: | :------------------: |
|  1   | id      |   int    |  10  |   0    |    N     |  N   |        |                      |
|  2   | url     | varchar  | 255  |   0    |    Y     |  N   |        | 在小程序中跳转的链接 |
|  3   | img_src | varchar  | 255  |   0    |    Y     |  N   |        |       图片链接       |
|  4   | title   | varchar  | 255  |   0    |    Y     |  N   |        |         标题         |

**表名：** <a id="t_home_swiper_image">t_home_swiper_image</a>

**说明：** 首页轮播图数据

**数据列：**

| 序号 | 名称       | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |     说明     |
| :--: | :--------- | :------: | :--: | :----: | :------: | :--: | :----: | :----------: |
|  1   | id         |   int    |  10  |   0    |    N     |  N   |        | 没有意义的id |
|  2   | src        | varchar  | 255  |   0    |    Y     |  N   |        |   图片链接   |
|  3   | produce_id |   int    |  10  |   0    |    Y     |  N   |        | 对应的商品id |

**表名：** <a id="t_order">t_order</a>

**说明：** 订单表

**数据列：**

| 序号 | 名称        | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |                        说明                        |
| :--: | :---------- | :------: | :--: | :----: | :------: | :--: | :----: | :------------------------------------------------: |
|  1   | order_id    | varchar  |  50  |   0    |    N     |  Y   |        | 订单号，这里使用了事件戳和每个用户的盐值作为订单号 |
|  2   | user_id     |   int    |  10  |   0    |    N     |  N   |        |                   改订单所属用户                   |
|  3   | create_time | datetime |  26  |   0    |    N     |  N   |        |                    订单创建时间                    |
|  4   | status      |   int    |  10  |   0    |    Y     |  N   |   0    |                  订单状态0:未发货                  |
|  5   | price       |  double  |  22  |   0    |    Y     |  N   |        |                      订单价格                      |
|  6   | address_id  |   int    |  10  |   0    |    N     |  N   |   0    |            该订单的地址，默认为默认地址            |

**表名：** <a id="t_order_item">t_order_item</a>

**说明：** 商品项

**数据列：**

| 序号 | 名称        | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 |   默认值   |                 说明                 |
| :--: | :---------- | :------: | :--: | :----: | :------: | :--: | :--------: | :----------------------------------: |
|  1   | id          |   int    |  10  |   0    |    N     |  Y   |            |                自增id                |
|  2   | order_id    | varchar  |  50  |   0    |    N     |  N   |            |             归属的订单id             |
|  3   | price       |  double  |  22  |   0    |    N     |  N   |     0      |              该项的价格              |
|  4   | count       |   int    |  10  |   0    |    N     |  N   |     1      | 这个订单项有几个，就是商品有几个数量 |
|  5   | total_price |  double  |  22  |   0    |    N     |  N   |     0      |          这个订单项的总价格          |
|  6   | img_path    | varchar  | 255  |   0    |    Y     |  N   |            |              该项的图片              |
|  7   | produce_id  |   int    |  10  |   0    |    N     |  N   |            |             该项的商品id             |
|  8   | title       | varchar  | 255  |   0    |    Y     |  N   | 商品的标题 |              商品的标题              |

**表名：** <a id="t_produce">t_produce</a>

**说明：** 商品表

**数据列：**

| 序号 | 名称   | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 |            默认值             |                说明                |
| :--: | :----- | :------: | :--: | :----: | :------: | :--: | :---------------------------: | :--------------------------------: |
|  1   | id     |   int    |  10  |   0    |    N     |  Y   |                               |          没有意义的自增id          |
|  2   | title  | varchar  | 255  |   0    |    Y     |  N   |                               |              商品名称              |
|  3   | detail | varchar  | 255  |   0    |    Y     |  N   |                               |              商品详细              |
|  4   | price  |  double  |  22  |   0    |    Y     |  N   |                               |                价格                |
|  5   | sales  |   int    |  10  |   0    |    Y     |  N   |               0               |                销量                |
|  6   | stock  |   int    |  10  |   0    |    Y     |  N   |                               |                库存                |
|  7   | img    | varchar  | 255  |   0    |    Y     |  N   | /tmall/static/img/default.jpg | 商品图片，如果没有传值就是默认参数 |
|  8   | cat_id |   int    |  10  |   0    |    Y     |  N   |               0               |      商品类别，默认为默认分组      |

**表名：** <a id="t_produce_cat">t_produce_cat</a>

**说明：** 商品类别表

**数据列：**

| 序号 | 名称      | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |       说明       |
| :--: | :-------- | :------: | :--: | :----: | :------: | :--: | :----: | :--------------: |
|  1   | id        |   int    |  10  |   0    |    N     |  N   |        | 没有意义的自增id |
|  2   | parent_id |   int    |  10  |   0    |    Y     |  N   |        |     父类节点     |
|  3   | name      | varchar  | 255  |   0    |    Y     |  N   |        |     类别名称     |
|  4   | is_parent |   bit    |  1   |   0    |    Y     |  N   |        |    是否为父类    |

**表名：** <a id="t_user">t_user</a>

**说明：** 用户表

**数据列：**

| 序号 | 名称     | 数据类型 | 长度 | 小数位 | 允许空值 | 主键 | 默认值 |               说明               |
| :--: | :------- | :------: | :--: | :----: | :------: | :--: | :----: | :------------------------------: |
|  1   | id       |   int    |  10  |   0    |    N     |  Y   |        |         没有意义的自增id         |
|  2   | username | varchar  | 255  |   0    |    Y     |  N   |        |              用户名              |
|  3   | password | varchar  | 255  |   0    |    Y     |  N   |        |             用户密码             |
|  4   | phone    | varchar  |  11  |   0    |    Y     |  N   |        |               号码               |
|  5   | email    | varchar  | 255  |   0    |    Y     |  N   |        |       用户邮箱，还没开发到       |
|  6   | wx_id    | varchar  | 255  |   0    |    Y     |  N   |        | 微信小程序id，在这里作为唯一标识 |



## API文档

